<link rel="import" href="../polymer/polymer.html"> <dom-module id="simple-callout"> <template> <style>*,::after,::before,:host{box-sizing:border-box}:host{position:relative;display:inline-block;will-change:transform;background:#fff;border-radius:3px;outline:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}:host(:not([active])){display:none}:host(:not([visible])){-webkit-transform:scale(.75,.85);transform:scale(.75,.85);opacity:0;-webkit-transition:opacity 90ms ease,-webkit-transform 125ms cubic-bezier(.4,0,1,1);transition:opacity 90ms ease,-webkit-transform 125ms cubic-bezier(.4,0,1,1);transition:transform 125ms cubic-bezier(.4,0,1,1),opacity 90ms ease;transition:transform 125ms cubic-bezier(.4,0,1,1),opacity 90ms ease,-webkit-transform 125ms cubic-bezier(.4,0,1,1)}:host([visible]){opacity:1;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:opacity .1s ease,-webkit-transform 150ms cubic-bezier(0,0,.2,1);transition:opacity .1s ease,-webkit-transform 150ms cubic-bezier(0,0,.2,1);transition:transform 150ms cubic-bezier(0,0,.2,1),opacity .1s ease;transition:transform 150ms cubic-bezier(0,0,.2,1),opacity .1s ease,-webkit-transform 150ms cubic-bezier(0,0,.2,1)}:host([arrow])::before{content:'';position:absolute;height:var(--simple-callout-arrow-size,8px);width:var(--simple-callout-arrow-size,8px);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:inherit}:host([arrow]) ::content *{position:relative;z-index:1}:host([arrow][origin*=top])::before{top:calc(0px - var(--simple-callout-arrow-size,8px)/ 2);box-shadow:-1px -1px rgba(0,0,0,.075);border-top-left-radius:2px}:host([arrow][origin*=bottom])::before{bottom:calc(0px - var(--simple-callout-arrow-size,8px)/ 2);box-shadow:1px 1px 1px rgba(0,0,0,.2);border-bottom-right-radius:2px}:host([arrow][origin*=left])::before{left:var(--simple-callout-arrow-size,8px)}:host([arrow][origin*=center])::before{left:calc(50% - var(--simple-callout-arrow-size,8px)/ 2)}:host([arrow][origin*=right])::before{right:var(--simple-callout-arrow-size,8px)}:host([arrow][origin=left])::before{top:calc(50% - var(--simple-callout-arrow-size,8px)/ 2);left:calc(0px - var(--simple-callout-arrow-size,8px)/ 2);box-shadow:-1px 1px 1px rgba(0,0,0,.075);border-bottom-left-radius:2px}:host([arrow][origin=right])::before{top:calc(50% - var(--simple-callout-arrow-size,8px)/ 2);right:calc(0px - var(--simple-callout-arrow-size,8px)/ 2);box-shadow:1px -1px 0 rgba(0,0,0,.075);border-top-right-radius:2px}</style> <content></content> </template> <script>!function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n)}return t(n,[{key:"beforeRegister",value:function(){this.is="simple-callout",this.properties={active:{type:Boolean,reflectToAttribute:!0,readonly:!0,notify:!0},visible:{type:Boolean,reflectToAttribute:!0,readonly:!0},noBlur:Boolean,noEscape:Boolean,origin:{type:String,reflectToAttribute:!0,observer:"_setTransformOrigin"},arrow:{type:Boolean,reflectToAttribute:!0},tabindex:{type:Number,reflectToAttribute:!0,readonly:!0,value:0}},this.observers=["_focusOnActive(active)","_goVisibleOnActive(active)","_closeOnEscape(active)"],this.listeners={blur:"_closeOnBlur",transitionend:"_goInactiveOnClose"}}},{key:"open",value:function(){this.active=!0}},{key:"close",value:function(){this.visible=!1}},{key:"toggle",value:function(){this.active?this.close():this.open()}},{key:"_focusOnActive",value:function(e){e&&this.focus()}},{key:"_goVisibleOnActive",value:function(e){var t=this;e&&Polymer.RenderStatus.afterNextRender(this,function(){return t.visible=!0})}},{key:"_goInactiveOnClose",value:function(e){this.visible||(this.active=!1)}},{key:"_closeOnBlur",value:function(e){this.noBlur||(this.visible=!1)}},{key:"_closeOnEscape",value:function(e){var t=this,n=function(e){t.noEscape||27!==e.keyCode||(t.active=!1)};e?document.addEventListener("keydown",n):document.removeEventListener("keydown",n)}},{key:"_setTransformOrigin",value:function(e){e&&(this.style["transform-origin"]=e)}}]),n}();Polymer(n)}()</script> </dom-module>