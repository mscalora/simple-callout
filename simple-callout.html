<link rel="import" href="../polymer/polymer.html"> <dom-module id="simple-callout"> <template> <style>*,::after,::before,:host{box-sizing:border-box;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}:host{position:relative;display:none;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.2),0 0 1px rgba(0,0,0,.1)}:host([visible]){display:inline-block}:host::before{content:'';position:absolute;height:var(--callout-arrow-size,.75rem);width:var(--callout-arrow-size,.75rem);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:inherit}:host ::content *{position:relative;z-index:1}:host([arrow*=top]){-webkit-transform:translateY(calc(var(--callout-arrow-size,.75rem)/ 2));transform:translateY(calc(var(--callout-arrow-size,.75rem)/ 2))}:host([arrow*=top])::before{top:calc(0px - var(--callout-arrow-size,.75rem)/ 2);box-shadow:-1px -1px rgba(0,0,0,.075)}:host([arrow*=bottom]){-webkit-transform:translateY(calc(0 - var(--callout-arrow-size,.75rem)/ 2));transform:translateY(calc(0 - var(--callout-arrow-size,.75rem)/ 2))}:host([arrow*=bottom])::before{bottom:calc(0px - var(--callout-arrow-size,.75rem)/ 2);box-shadow:1px 1px 1px rgba(0,0,0,.2)}:host([arrow*=left])::before{left:var(--callout-arrow-size,.75rem)}:host([arrow*=center])::before{left:calc(50% - var(--callout-arrow-size,.75rem)/ 2)}:host([arrow*=right])::before{right:var(--callout-arrow-size,.75rem)}:host([arrow=left]){-webkit-transform:translateX(calc(var(--callout-arrow-size,.75rem)/ 2));transform:translateX(calc(var(--callout-arrow-size,.75rem)/ 2))}:host([arrow=left])::before{left:calc(0px - var(--callout-arrow-size,.75rem)/ 2);box-shadow:-1px 1px 1px rgba(0,0,0,.075)}:host([arrow=right]){-webkit-transform:translateX(0 - calc(var(--callout-arrow-size,.75rem)/ 2));transform:translateX(0 - calc(var(--callout-arrow-size,.75rem)/ 2))}:host([arrow=right])::before{right:calc(0px - var(--callout-arrow-size,.75rem)/ 2);box-shadow:1px -1px 0 rgba(0,0,0,.075)}</style> <content></content> </template> <script src="../web-animations-js/web-animations.min.js">!function(){"use strict"}()</script> <script>!function(){"use strict";var e={frames:[{transform:"scale(0.95, 0.8)",opacity:0},{transform:"scale(1, 1)",opacity:1}],opts:{easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",fill:"both",duration:75}},t={properties:{active:{type:Boolean,observer:"_activeChanged",notify:!0},visible:{type:Boolean,reflectToAttribute:!0},_opened:Boolean,noOutsideClick:Boolean,noEscape:Boolean},open:function(){this.active=!0},close:function(){this.active=!1},toggle:function(){this.active=!this._active},_activeChanged:function(e){e?this._showCallout():this._hideCallout()},_showCallout:function(){var t=this,n=void 0;this.visible=!0,n=this.animate(e.frames,e.opts),n.onfinish=function(){return t._opened=!0}},_hideCallout:function(){var t=this,n=void 0;this._opened=!1,n=this.animate(e.frames.slice().reverse(),e.opts),n.onfinish=function(){return t.visible=!1}},_closeOnEsc:function(){var e=this;document.addEventListener("keyup",function(t){e.noEscape||27!==t.keyCode||(e.active=!1)})},_closeOnClick:function(){var e=this,t=function(t){!e.noOutsideClick&&e._opened&&t.target!==e&&(e.active=!1)};document.addEventListener("click",t),document.addEventListener("touchend",t)},attached:function(){this._closeOnEsc(),this._closeOnClick()}},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,[{key:"beforeRegister",value:function(){this.is="simple-callout",this.properties={arrow:{type:String,reflectToAttribute:!0,observer:"_setTransformOrigin"}}}},{key:"_setTransformOrigin",value:function(e){var t=this,n=["transform-origin","webkit-transform-origin"];n.forEach(function(n){return t.style[n]=e})}},{key:"behaviors",get:function(){return[t]}}]),e}();Polymer(o)}()</script> </dom-module>